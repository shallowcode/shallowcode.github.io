{"title":"树状数组2","uid":"75693a8c6f85806ac837bdc72f35a1c0","slug":"树状数组2","date":"2022-04-19T08:42:09.000Z","updated":"2022-04-19T08:42:23.468Z","comments":true,"path":"api/articles/树状数组2.json","keywords":null,"cover":null,"content":"<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\">#include&lt;bits&#x2F;stdc++.h&gt;\n#define ll long long\n#define MAX 500005\nusing namespace std;\nll read()&#123;\n    char c&#x3D;getchar();ll x&#x3D;0;int f&#x3D;1;\n    for (;!isdigit(c);c&#x3D;getchar()) if(c&#x3D;&#x3D;&#39;-&#39;) f&#x3D;-1;\n    for (;isdigit(c);c&#x3D;getchar()) x&#x3D;x*10+c-48;\n    return x*f;\n&#125;\nll n,m,x,y,ret;\nll ans[MAX&lt;&lt;1];\nvoid add(int l,int r,ll k)&#123;\n    while(l&lt;&#x3D;n)&#123;\n        ans[l]+&#x3D;k;\n        l+&#x3D;l&amp;-l;\n    &#125;\n    r++;\n    while(r&lt;&#x3D;n)&#123;\n        ans[r]-&#x3D;k;\n        r+&#x3D;r&amp;-r;\n    &#125;\n&#125;\nvoid init()&#123;\n    ll temp;\n    for (int i&#x3D;1;i&lt;&#x3D;n;++i)&#123;\n        temp&#x3D;read();\n        add(i,i,temp);\n    &#125;\n&#125;\n\nll sum(int x)&#123;\n    ll temp&#x3D;0;\n    while(x)&#123;\n        temp+&#x3D;ans[x];\n        x-&#x3D;x&amp;-x;\n    &#125;\n    return temp;\n&#125;\n\nint main()&#123;\n    n&#x3D;read();m&#x3D;read();\n    init();\n    while(m--)&#123;\n        ret&#x3D;read();\n        if(ret&#x3D;&#x3D;1)&#123;\n            x&#x3D;read();y&#x3D;read();ret&#x3D;read();\n            add(x,y,ret);\n        &#125;\n        else&#123;\n            x&#x3D;read();\n            printf(&quot;%lld\\n&quot;,sum(x));\n        &#125;\n    &#125;\n&#125;</code></pre>\n","text":"#include&lt;bits&#x2F;stdc++.h&gt; #define ll long long #define MAX 500005 using namespace std; ll read()&#123; char c&#x3D;getchar();ll x&#...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"shallow","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/e34cf65a5d76470da93ba82bf95b3745.png","link":"/","description":"我并非生来勇敢，天赋过人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/475614133/dynamic"},"github":{"icon":"/svg/github.svg","link":"https://github.com/shallowcode"},"zhihu":{"icon":"/svg/zhihu.svg","link":"https://www.zhihu.com/people/qian-meng-9-42-73"}}}},"mapped":true,"prev_post":{"title":"cf-783-div2","uid":"fa4d4536e5d7115952b0289a4a257f8c","slug":"cf-783-div2","date":"2022-04-20T03:13:31.000Z","updated":"2022-05-17T15:46:45.295Z","comments":true,"path":"api/articles/cf-783-div2.json","keywords":null,"cover":[],"text":" C 题意：给出长度为n的序列a,长度为n的序列b中初始值全是0,每次操作可以让加上或者减去,问最少操作多少次才能使变成一个严格单调递增的序列. 方法：贪心的考虑，最终数组一定会有0存在，枚举0的位置，依次计算达到严格单调递增所需要移动的次数 int main()&#123; n...","link":"","photos":[],"count_time":{"symbolsCount":863,"symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"shallow","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/e34cf65a5d76470da93ba82bf95b3745.png","link":"/","description":"我并非生来勇敢，天赋过人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/475614133/dynamic"},"github":{"icon":"/svg/github.svg","link":"https://github.com/shallowcode"},"zhihu":{"icon":"/svg/zhihu.svg","link":"https://www.zhihu.com/people/qian-meng-9-42-73"}}}}},"next_post":{"title":"树状数组1","uid":"a9af62bfd9db986968c6d2172b939d09","slug":"树状数组1","date":"2022-04-19T06:36:42.000Z","updated":"2022-04-19T06:38:14.421Z","comments":true,"path":"api/articles/树状数组1.json","keywords":null,"cover":[],"text":"#include&lt;bits&#x2F;stdc++.h&gt; #define ll long long #define MAX 500001 using namespace std; ll read()&#123; char c&#x3D;getchar();ll x&#...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[],"tags":[],"author":{"name":"shallow","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/e34cf65a5d76470da93ba82bf95b3745.png","link":"/","description":"我并非生来勇敢，天赋过人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/475614133/dynamic"},"github":{"icon":"/svg/github.svg","link":"https://github.com/shallowcode"},"zhihu":{"icon":"/svg/zhihu.svg","link":"https://www.zhihu.com/people/qian-meng-9-42-73"}}}}}}