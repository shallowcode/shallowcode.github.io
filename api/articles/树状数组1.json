{"title":"树状数组1","uid":"a9af62bfd9db986968c6d2172b939d09","slug":"树状数组1","date":"2022-04-19T06:36:42.000Z","updated":"2022-04-19T06:38:14.421Z","comments":true,"path":"api/articles/树状数组1.json","keywords":null,"cover":[],"content":"<pre class=\"line-numbers language-cpp\" data-language=\"cpp\"><code class=\"language-cpp\">#include&lt;bits&#x2F;stdc++.h&gt;\n#define ll long long\n#define MAX 500001\nusing namespace std;\nll read()&#123;\n    char c&#x3D;getchar();ll x&#x3D;0;int f&#x3D;1;\n    for (;!isdigit(c);c&#x3D;getchar()) if(c&#x3D;&#x3D;&#39;-&#39;) f&#x3D;-1;\n    for (;isdigit(c);c&#x3D;getchar()) x&#x3D;x*10+c-48;\n    return x*f;\n&#125;\nll n,m,x,y,ret;\nll ans[MAX&lt;&lt;1];\nvoid add(int x,ll k)&#123;\n    while(x&lt;&#x3D;n)&#123;\n        ans[x]+&#x3D;k;\n        x+&#x3D;x&amp;-x;\n    &#125;\n&#125;\nvoid init()&#123;\n    ll temp;\n    for (int i&#x3D;1;i&lt;&#x3D;n;++i)&#123;\n        temp&#x3D;read();\n        add(i,temp);\n    &#125;\n&#125;\nll sum(int x)&#123;\n    ll temp&#x3D;0;\n    while(x)&#123;\n        temp+&#x3D;ans[x];\n        x-&#x3D;x&amp;-x;\n    &#125;\n    return temp;\n&#125;\n\nint main()&#123;\n    n&#x3D;read();m&#x3D;read();\n    init();\n    while(m--)&#123;\n        ret&#x3D;read();x&#x3D;read();y&#x3D;read();\n        if(ret&#x3D;&#x3D;1)&#123;\n            add(x,y);\n        &#125;\n        else&#123;\n            printf(&quot;%lld\\n&quot;,sum(y)-sum(x-1));\n        &#125;\n    &#125;\n&#125;</code></pre>\n<p><img src=\"https://tva1.sinaimg.cn/large/e6c9d24ely1h1f0uu88o6j20af06o0st.jpg\" alt=\"t01b3cd94b11782f024\" /></p>\n","text":"#include&lt;bits&#x2F;stdc++.h&gt; #define ll long long #define MAX 500001 using namespace std; ll read()&#123; char c&#x3D;getchar();ll x&#...","link":"","photos":[],"count_time":{"symbolsCount":"1.1k","symbolsTime":"1 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"shallow","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/e34cf65a5d76470da93ba82bf95b3745.png","link":"/","description":"我并非生来勇敢，天赋过人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/475614133/dynamic"},"github":{"icon":"/svg/github.svg","link":"https://github.com/shallowcode"},"zhihu":{"icon":"/svg/zhihu.svg","link":"https://www.zhihu.com/people/qian-meng-9-42-73"}}}},"mapped":true,"prev_post":{},"next_post":{"title":"线段树2","uid":"001dbd05b69938b44aa0e24828eb90f6","slug":"线段树2","date":"2022-04-18T15:16:53.000Z","updated":"2022-04-18T15:17:17.692Z","comments":true,"path":"api/articles/线段树2.json","keywords":null,"cover":null,"text":"void init()&#123; for (int i&#x3D;1;i&lt;&#x3D;n;++i)&#123; a[i]&#x3D;read(); &#125; &#125;&#x2F;&#x2F;初始化 inline ll ls(long p) &#123;return...","link":"","photos":[],"count_time":{"symbolsCount":"2.4k","symbolsTime":"2 mins."},"categories":[],"tags":[],"author":{"name":"shallow","slug":"blog-author","avatar":"https://img-blog.csdnimg.cn/e34cf65a5d76470da93ba82bf95b3745.png","link":"/","description":"我并非生来勇敢，天赋过人","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{"bilibili":{"icon":"/svg/bilibili.svg","link":"https://space.bilibili.com/475614133/dynamic"},"github":{"icon":"/svg/github.svg","link":"https://github.com/shallowcode"},"zhihu":{"icon":"/svg/zhihu.svg","link":"https://www.zhihu.com/people/qian-meng-9-42-73"}}}}}}